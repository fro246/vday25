<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valentine's Day!</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Add styles to make section headers larger */
        h2 {
            font-size: 2.5em;
            margin-top: 20px;
        }

        /* Increase envelope size */
        .envelope {
            cursor: pointer;
            display: inline-block;
            width: 200px;  /* Increase the envelope size */
            height: auto;
        }

        .envelope-image {
            width: 100%;
            max-width: 200px;  /* Update the envelope image size */
            display: block;
            margin: 0 auto;
        }

        /* Add a pink horizontal line after each section */
        section {
            margin-bottom: 40px;
        }

        section + section {
            border-top: 2px solid #dda6e3; /* Pink line after each section */
            padding-top: 20px;
        }

        /* Center all text */
        body, section, footer, header, .collage, .quiz, .days-known, .map-section, .firsts {
            text-align: center;
        }

        /* Map section style */
        #map {
            width: 80%;
            height: 300px;
            margin: 0 auto;
        }

        /* Flipping Cards Section */
        .card-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
        }

        .card {
            width: 200px;
            height: 300px;
            perspective: 1000px;
        }

        .card-inner {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .card:hover .card-inner {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5em;
            text-align: center;
            padding: 10px;
        }

        .card-back {
            transform: rotateY(180deg);
        }

        /* Styling for the image in the card */
        .card-back img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>

    <!-- Include Leaflet.js library -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
</head>
<body>

    <!-- Header with Valentine's color and hearts -->
    <header>
        <h1><span class="header-heart">‚ù§Ô∏è</span> Happy Valentine's Day, Phil! <span class="header-heart">‚ù§Ô∏è</span></h1>
        <h4>Since you're dating a nerd, I made you a little website, I hope you like it!</h4>
    </header>

    <!-- Collage Section (replace the image URL with your collage image) -->
    <section class="collage">
        <img src="https://github.com/fro246/vday25/blob/main/IMG_2594.jpg?raw=true" alt="Collage of Our Memories" class="collage-img"/>
    </section>

    <!-- Valentine's Card Section (interactive pop-out card) -->
    <section class="card-container">
        <h2>Click to be my Valentine!</h2>
        <div class="envelope" onclick="openCard()">
            <!-- Updated envelope image URL -->
            <img src="https://github.com/fro246/vday25/blob/main/envelope2.jpg?raw=true" alt="Envelope" class="envelope-image">
        </div>
        <div class="valentines-card" id="card">
            <textarea placeholder="Happy Valentine's Day! 
                I love you so much and you're the best first valentine I could ever wish for! Thank you for being such a bright and amazing part of my life. I loved spending every minute with you since we met at the rooftop and during our trip. Sunshine, rain, or snowstorm I'm so excited to make more memories together!"></textarea>
        </div>
    </section>

    <!-- Days Known Counter -->
    <section class="days-known">
        <h2>Days We've Known Each Other</h2>
        <div id="days-counter"></div>
    </section>

    <!-- Quiz Section -->
    <section class="quiz">
        <h2>How Well Do You Know Me?</h2>
        <div class="quiz-question" id="question-container">
            <p id="question"></p>
            <button onclick="answerQuestion('green')">Green</button>
            <button onclick="answerQuestion('Chrysler Pacifica')">Chrysler Pacifica</button>
        </div>
    </section>

    <!-- Firsts Section (flipping cards) -->
    <section class="firsts">
        <h2>Our "Firsts" Together</h2>
        <div class="card-container">
            <div class="card">
                <div class="card-inner">
                    <div class="card-front">
                        NYC Rooftop Bar
                    </div>
                    <div class="card-back">
                        <img src="https://example.com/ophelia_bar.jpg" alt="Ophelia Bar">
                        <p>Ophelia Bar</p>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-inner">
                    <div class="card-front">
                        Philly Cheesesteak
                    </div>
                    <div class="card-back">
                        <img src="https://example.com/angelos_pizza.jpg" alt="Angelos Pizza">
                        <p>Angelo's Pizza</p>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-inner">
                    <div class="card-front">
                        NYC Slice
                    </div>
                    <div class="card-back">
                        <img src="https://example.com/lindustrie_pizza.jpg" alt="L'Industrie Pizza">
                        <p>L'Industrie Pizza</p>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-inner">
                    <div class="card-front">
                        Best Car
                    </div>
                    <div class="card-back">
                        <img src="https://example.com/chrysler_pacifica.jpg" alt="Chrysler Pacifica">
                        <p>Chrysler Pacifica</p>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-inner">
                    <div class="card-front">
                        Favorite Grocery Store
                    </div>
                    <div class="card-back">
                        <img src="https://example.com/costco.jpg" alt="Costco">
                        <p>Costco</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Map Section -->
    <section class="map-section">
        <h2>Our Journey on the Map</h2>
        <div id="map"></div>
    </section>

    <!-- Spotify Playlist Section (with link and album cover) -->
    <section class="spotify">
        <h2>My Valentine Playlist</h2>
        <a href="https://open.spotify.com/playlist/4P328r7KC7Ik7KN9gNPHuq?si=57969da5c411400d&pt=68fae1401419dce0ab83df14d2d4bdda" target="_blank">
            <img src="https://github.com/fro246/vday25/blob/main/IMG_2570.JPG?raw=true" alt="Spotify Playlist" class="album-cover"/>
        </a>
        <p>Missing the America vibes? Click to listen to a little America core playlist including some of the bangers I was shocked you hadn't heard before</p>
    </section>

    <footer>
        <p>Love, Fallon <span class="heart">&#10084;</span></p>
    </footer>

    <script>
        // Days Known Counter Function
        const firstDate = new Date('2024-07-30');
        const today = new Date();
        const timeDiff = today - firstDate;
        const daysKnown = Math.floor(timeDiff / (1000 * 3600 * 24));

        document.getElementById('days-counter').innerHTML = `${daysKnown} days, since July 30, 2024 üòò`;

        // Quiz Functionality
        let questionIndex = 0;
        const questions = [
            {
                question: "What's my favorite color?",
                answer: "Green",
                options: ["Green", "Blue", "Red"]
            },
            {
                question: "What car did we drive on our road trip?",
                answer: "Chrysler Pacifica",
                options: ["Chrysler Pacifica", "Honda Civic", "Toyota Sienna"]
            },
            {
                question: "Where was I born?",
                answer: "Greece",
                options: ["Greece", "Italy", "USA"]
            },
            {
                question: "What instrument did I play growing up?",
                answer: "Cello",
                options: ["Cello", "Piano", "Violin"]
            },
            {
                question: "What do I study?",
                answer: "Aerospace Engineering",
                options: ["Aerospace Engineering", "Computer Science", "Electrical Engineering"]
            },
            {
                question: "What's my zodiac sign?",
                answer: "sagittarius",
                options: ["Sagittarius", "Capricorn", "Aquarius"]
            }
        ];

        // Shuffle the options in each question
        function shuffleOptions(options) {
            for (let i = options.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [options[i], options[j]] = [options[j], options[i]]; // Swap elements
            }
            return options;
        }

        function loadQuestion() {
            const currentQuestion = questions[questionIndex];
            document.getElementById('question').textContent = currentQuestion.question;
            const shuffledOptions = shuffleOptions(currentQuestion.options);
            document.querySelectorAll('.quiz-question button').forEach((button, index) => {
                button.textContent = shuffledOptions[index];
            });
        }

        function answerQuestion(answer) {
            const currentQuestion = questions[questionIndex];
            if (answer === currentQuestion.answer) {
                alert("Correct! ü•≥");
            } else {
                alert("Oops! Try again ü§î");
            }
            questionIndex = (questionIndex + 1) % questions.length;
            loadQuestion();
        }

        // Initialize the first question
        loadQuestion();

        // Map functionality (with red markers on specified cities)
        const map = L.map('map').setView([51.505, -0.09], 2);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        const cities = [
            {name: 'Singapore', coords: [1.3521, 103.8198], color: 'red'},
            {name: 'Melbourne', coords: [-37.8136, 144.9631], color: 'red'},
            {name: 'Munich', coords: [48.1351, 11.5820], color: 'red'},
            {name: 'Princeton', coords: [40.3430, -74.6514], color: 'red'},
            {name: 'Los Angeles', coords: [34.0522, -118.2437], color: 'red'},
            {name: 'New York City', coords: [40.7128, -74.0060], color: 'blue'},
            {name: 'Philadelphia', coords: [39.9526, -75.1652], color: 'blue'},
            {name: 'Paris', coords: [48.8566, 2.3522], color: 'blue'},
            {name: 'Tokyo', coords: [35.6762, 139.6503], color: 'blue'},
            {name: 'Barcelona', coords: [41.3851, 2.1734], color: 'blue'}
        ];

        cities.forEach(city => {
            L.marker(city.coords, {color: city.color})
                .addTo(map)
                .bindPopup(city.name);
        });
    </script>
</body>
</html>
